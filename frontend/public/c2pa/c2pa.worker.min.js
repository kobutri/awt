/*!*************************************************************************
 * Copyright 2021 Adobe
 * All Rights Reserved.
 *
 * NOTICE: Adobe permits you to use, modify, and distribute this file in
 * accordance with the terms of the Adobe license agreement accompanying
 * it. 
 **************************************************************************/
!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(n){return Object.getOwnPropertyNames(n).reduce((function(e,t){return Object.defineProperty(e,t,{value:n[t],enumerable:!0})}),{})}let e;const t=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});t.decode();let r=new Uint8Array;function o(){return 0===r.byteLength&&(r=new Uint8Array(e.memory.buffer)),r}function i(n,e){return t.decode(o().subarray(n,n+e))}let _=0;const c=new TextEncoder("utf-8"),a="function"==typeof c.encodeInto?function(n,e){return c.encodeInto(n,e)}:function(n,e){const t=c.encode(n);return e.set(t),{read:n.length,written:t.length}};function u(n,e,t){if(void 0===t){const t=c.encode(n),r=e(t.length);return o().subarray(r,r+t.length).set(t),_=t.length,r}let r=n.length,i=e(r);const u=o();let f=0;for(;f<r;f++){const e=n.charCodeAt(f);if(e>127)break;u[i+f]=e}if(f!==r){0!==f&&(n=n.slice(f)),i=t(i,r,r=f+3*n.length);const e=o().subarray(i+f,i+r);f+=a(n,e).written}return _=f,i}function f(n){return null==n}let b=new Int32Array;function s(){return 0===b.byteLength&&(b=new Int32Array(e.memory.buffer)),b}let g,w=new Float64Array;function l(n){const e=typeof n;if("number"==e||"boolean"==e||null==n)return`${n}`;if("string"==e)return`"${n}"`;if("symbol"==e){const e=n.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=n.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(n)){const e=n.length;let t="[";e>0&&(t+=l(n[0]));for(let r=1;r<e;r++)t+=", "+l(n[r]);return t+="]",t}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(!(t.length>1))return toString.call(n);if(r=t[1],"Object"==r)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\n${n.stack}`:r}function d(n){try{const o=e.__wbindgen_add_to_stack_pointer(-16);e.scan_array_buffer(o,n);var t=s()[o/4+0],r=s()[o/4+1];if(s()[o/4+2])throw function(n){const t=e.__wbindgen_export_2.get(n);return e.__externref_table_dealloc(n),t}(r);return t>>>0}finally{e.__wbindgen_add_to_stack_pointer(16)}}function y(){const n={wbg:{}};return n.wbg.__wbg_isArray_27c46c67f498e15d=function(n){return Array.isArray(n)},n.wbg.__wbg_length_6e3bbe7c8bd4dbd8=function(n){return n.length},n.wbg.__wbg_get_57245cc7d7c7619d=function(n,e){return n[e>>>0]},n.wbg.__wbg_isSafeInteger_dfa0593e8d7ac35a=function(n){return Number.isSafeInteger(n)},n.wbg.__wbindgen_string_new=function(n,e){return i(n,e)},n.wbg.__wbg_new_abda76e883ba8a5f=function(){return new Error},n.wbg.__wbg_stack_658279fe44541cf6=function(n,t){const r=u(t.stack,e.__wbindgen_malloc,e.__wbindgen_realloc),o=_;s()[n/4+1]=o,s()[n/4+0]=r},n.wbg.__wbg_error_f851667af71bcfc6=function(n,t){try{console.error(i(n,t))}finally{e.__wbindgen_free(n,t)}},n.wbg.__wbg_length_9e1ae1900cb0fbd5=function(n){return n.length},n.wbg.__wbindgen_memory=function(){return e.memory},n.wbg.__wbg_buffer_3f3d764d4747d564=function(n){return n.buffer},n.wbg.__wbg_new_8c3f0052272a457a=function(n){return new Uint8Array(n)},n.wbg.__wbg_set_83db9690f9353e79=function(n,e,t){n.set(e,t>>>0)},n.wbg.__wbindgen_error_new=function(n,e){return new Error(i(n,e))},n.wbg.__wbindgen_jsval_loose_eq=function(n,e){return n==e},n.wbg.__wbindgen_boolean_get=function(n){return"boolean"==typeof n?n?1:0:2},n.wbg.__wbindgen_string_get=function(n,t){const r="string"==typeof t?t:void 0;var o=f(r)?0:u(r,e.__wbindgen_malloc,e.__wbindgen_realloc),i=_;s()[n/4+1]=i,s()[n/4+0]=o},n.wbg.__wbindgen_number_get=function(n,t){const r="number"==typeof t?t:void 0;(0===w.byteLength&&(w=new Float64Array(e.memory.buffer)),w)[n/8+1]=f(r)?0:r,s()[n/4+0]=!f(r)},n.wbg.__wbg_instanceof_Uint8Array_971eeda69eb75003=function(n){let e;try{e=n instanceof Uint8Array}catch{e=!1}return e},n.wbg.__wbg_instanceof_ArrayBuffer_e5e48f4762c5610b=function(n){let e;try{e=n instanceof ArrayBuffer}catch{e=!1}return e},n.wbg.__wbindgen_debug_string=function(n,t){const r=u(l(t),e.__wbindgen_malloc,e.__wbindgen_realloc),o=_;s()[n/4+1]=o,s()[n/4+0]=r},n.wbg.__wbindgen_throw=function(n,e){throw new Error(i(n,e))},n.wbg.__wbindgen_init_externref_table=function(){const n=e.__wbindgen_export_2,t=n.grow(4);n.set(0,void 0),n.set(t+0,void 0),n.set(t+1,null),n.set(t+2,!0),n.set(t+3,!1)},n}async function m(n){void 0===n&&(n=new URL("detector_bg.wasm","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("c2pa.worker.min.js",document.baseURI).href));const t=y();("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n));const{instance:o,module:i}=await async function(n,e){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,e)}catch(e){if("application/wasm"==n.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}(await n,t);return function(n,t){return e=n.exports,m.__wbindgen_wasm_module=t,w=new Float64Array,b=new Int32Array,r=new Uint8Array,e.__wbindgen_start(),e}(o,i)}let p=0,h=null;function A(){return null!==h&&0!==h.byteLength||(h=new Uint8Array(g.memory.buffer)),h}const v="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},I="function"==typeof v.encodeInto?function(n,e){return v.encodeInto(n,e)}:function(n,e){const t=v.encode(n);return e.set(t),{read:n.length,written:t.length}};function S(n,e,t){if(void 0===t){const t=v.encode(n),r=e(t.length,1)>>>0;return A().subarray(r,r+t.length).set(t),p=t.length,r}let r=n.length,o=e(r,1)>>>0;const i=A();let _=0;for(;_<r;_++){const e=n.charCodeAt(_);if(e>127)break;i[o+_]=e}if(_!==r){0!==_&&(n=n.slice(_)),o=t(o,r,r=_+3*n.length,1)>>>0;const e=A().subarray(o+_,o+r);_+=I(n,e).written,o=t(o,r,_,1)>>>0}return p=_,o}let x=null;function R(){return(null===x||!0===x.buffer.detached||void 0===x.buffer.detached&&x.buffer!==g.memory.buffer)&&(x=new DataView(g.memory.buffer)),x}function U(n){const e=g.__externref_table_alloc();return g.__wbindgen_export_4.set(e,n),e}function O(n,e){try{return n.apply(this,e)}catch(n){const e=U(n);g.__wbindgen_exn_store(e)}}const k="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};function L(n,e){return n>>>=0,k.decode(A().subarray(n,n+e))}function W(n){return null==n}"undefined"!=typeof TextDecoder&&k.decode();const j="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((n=>{g.__wbindgen_export_6.get(n.dtor)(n.a,n.b)}));function E(n){const e=typeof n;if("number"==e||"boolean"==e||null==n)return`${n}`;if("string"==e)return`"${n}"`;if("symbol"==e){const e=n.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=n.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(n)){const e=n.length;let t="[";e>0&&(t+=E(n[0]));for(let r=1;r<e;r++)t+=", "+E(n[r]);return t+="]",t}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(!(t&&t.length>1))return toString.call(n);if(r=t[1],"Object"==r)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\n${n.stack}`:r}function F(n,e,t){const r=S(e,g.__wbindgen_malloc,g.__wbindgen_realloc),o=p;var i=W(t)?0:S(t,g.__wbindgen_malloc,g.__wbindgen_realloc),_=p;return g.getManifestStoreFromArrayBuffer(n,r,o,i,_)}function M(n,e,t,r){const o=S(t,g.__wbindgen_malloc,g.__wbindgen_realloc),i=p;var _=W(r)?0:S(r,g.__wbindgen_malloc,g.__wbindgen_realloc),c=p;return g.getManifestStoreFromManifestAndAsset(n,e,o,i,_,c)}function B(n,e,t){g.closure318_externref_shim(n,e,t)}function T(){const n={wbg:{}};return n.wbg.__wbg_String_8f0eb39a4a4c2f66=function(n,e){const t=S(String(e),g.__wbindgen_malloc,g.__wbindgen_realloc),r=p;R().setInt32(n+4,r,!0),R().setInt32(n+0,t,!0)},n.wbg.__wbg_buffer_609cc3eee51ed158=function(n){return n.buffer},n.wbg.__wbg_call_672a4d21634d4a24=function(){return O((function(n,e){return n.call(e)}),arguments)},n.wbg.__wbg_call_7cccdd69e0791ae2=function(){return O((function(n,e,t){return n.call(e,t)}),arguments)},n.wbg.__wbg_debug_e17b51583ca6a632=function(n,e,t,r){console.debug(n,e,t,r)},n.wbg.__wbg_error_7534b8e9a36f1ab4=function(n,e){let t,r;try{t=n,r=e,console.error(L(n,e))}finally{g.__wbindgen_free(t,r,1)}},n.wbg.__wbg_error_80de38b3f7cc3c3c=function(n,e,t,r){console.error(n,e,t,r)},n.wbg.__wbg_from_2a5d3e218e67aa85=function(n){return Array.from(n)},n.wbg.__wbg_get_b9b93047fe3cf45b=function(n,e){return n[e>>>0]},n.wbg.__wbg_info_033d8b8a0838f1d3=function(n,e,t,r){console.info(n,e,t,r)},n.wbg.__wbg_instanceof_ArrayBuffer_e14585432e3737fc=function(n){let e;try{e=n instanceof ArrayBuffer}catch(n){e=!1}return e},n.wbg.__wbg_instanceof_Uint8Array_17156bcf118086a9=function(n){let e;try{e=n instanceof Uint8Array}catch(n){e=!1}return e},n.wbg.__wbg_isArray_a1eab7e0d067391b=function(n){return Array.isArray(n)},n.wbg.__wbg_isSafeInteger_343e2beeeece1bb0=function(n){return Number.isSafeInteger(n)},n.wbg.__wbg_length_a446193dc22c12f8=function(n){return n.length},n.wbg.__wbg_length_e2d2a49132c1b256=function(n){return n.length},n.wbg.__wbg_log_cad59bb680daec67=function(n,e,t,r){console.log(n,e,t,r)},n.wbg.__wbg_new_23a2665fac83c611=function(n,e){try{var t={a:n,b:e};const r=new Promise(((n,e)=>{const r=t.a;t.a=0;try{return function(n,e,t,r){g.closure257_externref_shim(n,e,t,r)}(r,t.b,n,e)}finally{t.a=r}}));return r}finally{t.a=t.b=0}},n.wbg.__wbg_new_405e22f390576ce2=function(){return new Object},n.wbg.__wbg_new_5e0be73521bc8c17=function(){return new Map},n.wbg.__wbg_new_78feb108b6472713=function(){return new Array},n.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},n.wbg.__wbg_new_a12002a7f91c75be=function(n){return new Uint8Array(n)},n.wbg.__wbg_new_c68d7209be747379=function(n,e){return new Error(L(n,e))},n.wbg.__wbg_newnoargs_105ed471475aaf50=function(n,e){return new Function(L(n,e))},n.wbg.__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a=function(n,e,t){return new Uint8Array(n,e>>>0,t>>>0)},n.wbg.__wbg_now_807e54c39636c349=function(){return Date.now()},n.wbg.__wbg_queueMicrotask_97d92b4fcc8a61c5=function(n){queueMicrotask(n)},n.wbg.__wbg_queueMicrotask_d3219def82552485=function(n){return n.queueMicrotask},n.wbg.__wbg_resolve_4851785c9c5f573d=function(n){return Promise.resolve(n)},n.wbg.__wbg_set_37837023f3d740e8=function(n,e,t){n[e>>>0]=t},n.wbg.__wbg_set_3f1d0b984ed272ed=function(n,e,t){n[e]=t},n.wbg.__wbg_set_65595bdd868b3009=function(n,e,t){n.set(e,t>>>0)},n.wbg.__wbg_set_8fc6bf8a5b1071d1=function(n,e,t){return n.set(e,t)},n.wbg.__wbg_set_bb8cecf6a62b9f46=function(){return O((function(n,e,t){return Reflect.set(n,e,t)}),arguments)},n.wbg.__wbg_setname_6df54b7ebf9404a9=function(n,e,t){n.name=L(e,t)},n.wbg.__wbg_stack_0ed75d68575b0f3c=function(n,e){const t=S(e.stack,g.__wbindgen_malloc,g.__wbindgen_realloc),r=p;R().setInt32(n+4,r,!0),R().setInt32(n+0,t,!0)},n.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const n="undefined"==typeof global?null:global;return W(n)?0:U(n)},n.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const n="undefined"==typeof globalThis?null:globalThis;return W(n)?0:U(n)},n.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const n="undefined"==typeof self?null:self;return W(n)?0:U(n)},n.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const n="undefined"==typeof window?null:window;return W(n)?0:U(n)},n.wbg.__wbg_then_44b73946d2fb3e7d=function(n,e){return n.then(e)},n.wbg.__wbg_warn_aaf1f4664a035bd6=function(n,e,t,r){console.warn(n,e,t,r)},n.wbg.__wbindgen_as_number=function(n){return+n},n.wbg.__wbindgen_bigint_from_u64=function(n){return BigInt.asUintN(64,n)},n.wbg.__wbindgen_boolean_get=function(n){return"boolean"==typeof n?n?1:0:2},n.wbg.__wbindgen_cb_drop=function(n){const e=n.original;if(1==e.cnt--)return e.a=0,!0;return!1},n.wbg.__wbindgen_closure_wrapper6340=function(n,e,t){const r=function(n,e,t,r){const o={a:n,b:e,cnt:1,dtor:t},i=(...n)=>{o.cnt++;const e=o.a;o.a=0;try{return r(e,o.b,...n)}finally{0==--o.cnt?(g.__wbindgen_export_6.get(o.dtor)(e,o.b),j.unregister(o)):o.a=e}};return i.original=o,j.register(i,o,o),i}(n,e,319,B);return r},n.wbg.__wbindgen_debug_string=function(n,e){const t=S(E(e),g.__wbindgen_malloc,g.__wbindgen_realloc),r=p;R().setInt32(n+4,r,!0),R().setInt32(n+0,t,!0)},n.wbg.__wbindgen_error_new=function(n,e){return new Error(L(n,e))},n.wbg.__wbindgen_init_externref_table=function(){const n=g.__wbindgen_export_4,e=n.grow(4);n.set(0,void 0),n.set(e+0,void 0),n.set(e+1,null),n.set(e+2,!0),n.set(e+3,!1)},n.wbg.__wbindgen_is_function=function(n){return"function"==typeof n},n.wbg.__wbindgen_is_string=function(n){return"string"==typeof n},n.wbg.__wbindgen_is_undefined=function(n){return void 0===n},n.wbg.__wbindgen_jsval_loose_eq=function(n,e){return n==e},n.wbg.__wbindgen_memory=function(){return g.memory},n.wbg.__wbindgen_number_get=function(n,e){const t="number"==typeof e?e:void 0;R().setFloat64(n+8,W(t)?0:t,!0),R().setInt32(n+0,!W(t),!0)},n.wbg.__wbindgen_number_new=function(n){return n},n.wbg.__wbindgen_string_get=function(n,e){const t="string"==typeof e?e:void 0;var r=W(t)?0:S(t,g.__wbindgen_malloc,g.__wbindgen_realloc),o=p;R().setInt32(n+4,o,!0),R().setInt32(n+0,r,!0)},n.wbg.__wbindgen_string_new=function(n,e){return L(n,e)},n.wbg.__wbindgen_throw=function(n,e){throw new Error(L(n,e))},n}async function $(n){if(void 0!==g)return g;void 0!==n&&(Object.getPrototypeOf(n)===Object.prototype?({module_or_path:n}=n):console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===n&&(n=new URL("toolkit_bg.wasm","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("c2pa.worker.min.js",document.baseURI).href));const e=T();("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:r}=await async function(n,e){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,e)}catch(e){if("application/wasm"==n.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}(await n,e);return function(n,e){return g=n.exports,$.__wbindgen_wasm_module=e,x=null,h=null,g.__wbindgen_start(),g}(t,r)}const q={compileWasm:async n=>WebAssembly.compile(n),getReport:async(n,e,t,r)=>(await $(n),F(e,t,r)),async getReportFromAssetAndManifestBuffer(n,e,t,r){await $(n);return M(e,await t.arrayBuffer(),t.type,r)},async scanInput(n,e){await m(n);try{return{found:!0,offset:await d(e)}}catch(n){return{found:!1}}}};var D;D=q,onmessage=async e=>{const{args:t,method:r}=e.data;try{const n=await D[r](...t);postMessage({type:"success",data:n})}catch(e){postMessage({type:"error",error:n(e)})}}}));
